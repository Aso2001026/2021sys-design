```uml
@startuml
loop 入力内容を確定するまで
ユーザー -> webサーバー : 住所入力
webサーバー --> ユーザー :入力された住所表示
end
webサーバー -> DBサーバー : 住所登録
DBサーバー --> DBサーバー : 登録処理
DBサーバー --> webサーバー: 処理結果表示
webサーバー -> ユーザー : 購入完了表示

店 -> webサーバー : 送り先検索
webサーバー -> DBサーバー: 送り先検索
DBサーバー --> DBサーバー : 送り先検索処理
DBサーバー --> webサーバー: 処理結果表示
webサーバー -> 店 :処理結果表示
opt 発送後
店 -> webサーバー : 発送済登録
webサーバー -> DBサーバー: 発送済み登録
DBサーバー --> DBサーバー : 発送済み登録処理
DBサーバー --> webサーバー: 処理結果表示
webサーバー -> 店 :処理結果表示
メールサーバー --> ユーザー : 発送済みメール送信

@enduml
```
